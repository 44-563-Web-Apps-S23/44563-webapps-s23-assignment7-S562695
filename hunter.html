<!DOCTYPE html>
<html lang="en">
<head>
  <title>Lab07</title>    
  <style>
    div {
       font-family:'Times New Roman', Times, serif;
       font-size: 100%;
       border: 1px solid rgb(217, 141, 116);
       padding: 3px;
       background-color: rgb(0, 255, 153);
   }
   #bushes {
       font-size: 100%;
       border: 1px solid rgb(60, 182, 193);
       background-color: rgb(43, 255, 0);
       padding: 3px;
   }
   #penalty {
       font-size: 100%;
       border: 1px solid rgb(180, 235, 232);
       padding: 3px;
       background-color: rgb(224, 173, 228);
   }
   #help {
        font-size: 100%;
        border: 1px solid rgb(239, 94, 123);
        padding: 3px;
        background-color: rgb(185, 220, 56);
   }
  </style>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" 
  integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" 
  integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" 
  integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
</head>
<body>
    <h1>Find the mouse by Naga Lakshmi Konanki</h1>
    <div>Click on the bushes to search for the mouse, beware the cat</div><br>
    <div id="bushes">Number of bushes checked is zero</div><br>
    <div id="penalty">Penalty is zero</div><br>
    <div>Click for help</div><br>
    <div id="help">Help report</div>

    <div class="container">
      <div class="row">
        <div class="col-sm-2">
          <img id="0" width=100 height=100 onclick="check(0)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="1" width=100 height=100 onclick="check(1)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="2" width=100 height=100 onclick="check(2)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="3" width=100 height=100 onclick="check(3)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="4" width=100 height=100 onclick="check(4)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="5" width=100 height=100 onclick="check(5)" src="small bush.jpg" />
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-sm-2">
          <img id="6" width=100 height=100 onclick="check(6)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="7" width=100 height=100 onclick="check(7)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="8" width=100 height=100 onclick="check(8)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="9" width=100 height=100 onclick="check(9)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="10" width=100 height=100 onclick="check(10)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="11" width=100 height=100 onclick="check(11)" src="small bush.jpg" />
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-sm-2">
          <img id="12" width=100 height=100 onclick="check(12)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="13" width=100 height=100 onclick="check(13)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="14" width=100 height=100 onclick="check(14)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="15" width=100 height=100 onclick="check(15)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="16" width=100 height=100 onclick="check(16)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="17" width=100 height=100 onclick="check(17)" src="small bush.jpg" />
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-sm-2">
          <img id="18" width=100 height=100 onclick="check(18)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="19" width=100 height=100 onclick="check(19)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="20" width=100 height=100 onclick="check(20)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="21" width=100 height=100 onclick="check(21)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="22" width=100 height=100 onclick="check(22)" src="small bush.jpg" />
        </div>
        <div class="col-sm-2">
          <img id="23" width=100 height=100 onclick="check(23)" src="small bush.jpg" />
        </div>
      </div>
    </div>
  <script>
    let arr = ["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23",];
    let checkCount = 0;
    let penalty = 0;
    let lastCheck = 0;
    let mouseLocation = 13;
    let catLocation = 21;
    let gameOver = false;
    function check(position) {
      if (gameOver) {
        return;
      } else {
        let id = arr[position];
        img_pos = document.getElementById(id);

        if (position == mouseLocation) {
          img_pos.src = "mouse.png";
          gameOver = true;
          penalty = penalty - 3;
          lastCheck = mouseLocation;
        } else if (position == catLocation) {
          img_pos.src = "tiger.jpg";
          gameOver = true;
          penalty = penalty + 4;
          lastCheck = mouseLocation;
        } else {
          img_pos.src = "grass.webp";
        }
        checkCount++;
        penalty++;
      }
      document.getElementById("bushes").innerText = `Number of bushes checked is ${checkCount}`;
      document.getElementById("penalty").innerText = `Penalty is ${penalty}`;
      lastCheck = position;
    }

    function help() {
      let catRow = Math.floor(catLocation / 4);
      let catCol = catLocation % 6;
      let mouseRow = Math.floor(mouseLocation / 4);
      let mouseCol = mouseLocation % 6;
      let lastRow = Math.floor(lastCheck / 4);
      let lastCol = lastCheck % 6;
      console.log(catRow,catCol,mouseRow,mouseCol,lastRow,lastCol);
      penalty = penalty + 2;
      document.getElementById("penalty").innerHTML = "Penalty is " + penalty;
      if (
        Math.abs(catRow - lastRow) <= 1 &&
        Math.abs(catCol - lastCol) <= 1 &&
        (Math.abs(catRow - mouseRow) > 1 ||
          Math.abs(catCol - mouseCol) > 1)
      ) {
        document.getElementById("help").innerText = "meow";
      } else if (
        Math.abs(mouseRow - lastRow) <= 1 &&
        Math.abs(mouseCol - lastCol) <= 1 &&
        (Math.abs(catRow - mouseRow) > 1 ||
          Math.abs(catCol - mouseCol) > 1)
      ) {
        document.getElementById("help").innerText = "squeek";
      } else {
        document.getElementById("help").innerText = "sorry, no help available";
      }
    }

    function resetGame() {
      let mouseLocation = Math.floor(Math.random() * 24);
      console.log("mouse location " + mouseLocation);
      let catLocation = Math.floor(Math.random() * 24);
      console.log("cat location " + catLocation);
      document.getElementById("bushes").innerText ="Number of bushes checked is " + 0;
      document.getElementById("penalty").innerText = "Penalty is " + 0;
      for (i = 0; i < 24; i++) {
        if (i == mouseLocation) {
          document.getElementById(arr[i]).src = "mouse.png";
        } else if (i == catLocation) {
          document.getElementById(arr[i]).src = "tiger.jpg";
        } else {
          document.getElementById(arr[i]).src = "small bush.jpg";
        }
      }
    }
  </script>
</body>
</html>